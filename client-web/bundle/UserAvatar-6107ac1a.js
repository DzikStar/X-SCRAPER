(self.webpackChunk_twitter_responsive_web = self.webpackChunk_twitter_responsive_web || []).push([
    ["bundle.UserAvatar-6107ac1a"],
    {
        954694: (e) => {
            e.exports = { queryId: "83Gg0lfI-47Z3-ZOxyUjiQ", operationName: "ClearGrokConversations", operationType: "mutation", metadata: { featureSwitches: [], fieldToggles: [] } };
        },
        791005: (e) => {
            e.exports = { queryId: "vvC5uy7pWWHXS2aDi1FZeA", operationName: "CreateGrokConversation", operationType: "mutation", metadata: { featureSwitches: [], fieldToggles: [] } };
        },
        538374: (e) => {
            e.exports = { queryId: "kaH0vdJmbuocpRAeWpRC7A", operationName: "DeleteGrokMessage", operationType: "mutation", metadata: { featureSwitches: [], fieldToggles: [] } };
        },
        423923: (e) => {
            e.exports = { queryId: "z3zpnbOt9PzBF8qk2mPuCA", operationName: "GrokConversationItemsByRestId", operationType: "query", metadata: { featureSwitches: ["creator_subscriptions_tweet_preview_api_enabled", "premium_content_api_read_enabled", "communities_web_enable_tweet_community_results_fetch", "c9s_tweet_anatomy_moderator_badge_enabled", "responsive_web_grok_analyze_button_fetch_trends_enabled", "responsive_web_grok_analyze_post_followups_enabled", "responsive_web_jetfuel_frame", "responsive_web_grok_share_attachment_enabled", "articles_preview_enabled", "responsive_web_edit_tweet_api_enabled", "graphql_is_translatable_rweb_tweet_is_translatable_enabled", "view_counts_everywhere_api_enabled", "longform_notetweets_consumption_enabled", "responsive_web_twitter_article_tweet_consumption_enabled", "tweet_awards_web_tipping_enabled", "responsive_web_grok_show_grok_translated_post", "responsive_web_grok_analysis_button_from_backend", "creator_subscriptions_quote_tweet_preview_enabled", "freedom_of_speech_not_reach_fetch_enabled", "standardized_nudges_misinfo", "tweet_with_visibility_results_prefer_gql_limited_actions_policy_enabled", "longform_notetweets_rich_text_read_enabled", "longform_notetweets_inline_media_enabled", "profile_label_improvements_pcf_label_in_post_enabled", "rweb_tipjar_consumption_enabled", "verified_phone_label_enabled", "responsive_web_grok_image_annotation_enabled", "responsive_web_graphql_skip_user_profile_image_extensions_enabled", "responsive_web_graphql_timeline_navigation_enabled", "responsive_web_enhance_cards_enabled"], fieldToggles: ["withArticleRichContentState", "withArticlePlainText", "withGrokAnalyze", "withDisallowedReplyControls", "withAuxiliaryUserLabels"] } };
        },
        685850: (e) => {
            e.exports = { queryId: "9Hyh5D4-WXLnExZkONSkZg", operationName: "GrokHistory", operationType: "query", metadata: { featureSwitches: [], fieldToggles: [] } };
        },
        369111: (e) => {
            e.exports = { queryId: "i8RyUtwTC_hp0bFeYNyCOQ", operationName: "GrokHome", operationType: "query", metadata: { featureSwitches: [], fieldToggles: [] } };
        },
        551632: (e) => {
            e.exports = { queryId: "azn3Sg0APPjb2Jtd7gqxsw", operationName: "GrokMediaHistory", operationType: "query", metadata: { featureSwitches: [], fieldToggles: [] } };
        },
        880471: (e) => {
            e.exports = { queryId: "_6czUDKiWzcvBUKMoDZ19w", operationName: "GrokPinConversation", operationType: "mutation", metadata: { featureSwitches: [], fieldToggles: [] } };
        },
        61505: (e) => {
            e.exports = { queryId: "BHKxYTkc5SCupV7oqJBr0g", operationName: "GrokPinnedConversations", operationType: "query", metadata: { featureSwitches: [], fieldToggles: [] } };
        },
        255804: (e) => {
            e.exports = { queryId: "Sr2QEitvnemma5D2NJlA2Q", operationName: "SearchGrokConversations", operationType: "query", metadata: { featureSwitches: [], fieldToggles: [] } };
        },
        628207: (e) => {
            e.exports = { queryId: "Qp1qIFvysQgzCSaCFtcP_w", operationName: "GrokShare", operationType: "query", metadata: { featureSwitches: ["creator_subscriptions_tweet_preview_api_enabled", "premium_content_api_read_enabled", "communities_web_enable_tweet_community_results_fetch", "c9s_tweet_anatomy_moderator_badge_enabled", "responsive_web_grok_analyze_button_fetch_trends_enabled", "responsive_web_grok_analyze_post_followups_enabled", "responsive_web_jetfuel_frame", "responsive_web_grok_share_attachment_enabled", "articles_preview_enabled", "responsive_web_edit_tweet_api_enabled", "graphql_is_translatable_rweb_tweet_is_translatable_enabled", "view_counts_everywhere_api_enabled", "longform_notetweets_consumption_enabled", "responsive_web_twitter_article_tweet_consumption_enabled", "tweet_awards_web_tipping_enabled", "responsive_web_grok_show_grok_translated_post", "responsive_web_grok_analysis_button_from_backend", "creator_subscriptions_quote_tweet_preview_enabled", "freedom_of_speech_not_reach_fetch_enabled", "standardized_nudges_misinfo", "tweet_with_visibility_results_prefer_gql_limited_actions_policy_enabled", "longform_notetweets_rich_text_read_enabled", "longform_notetweets_inline_media_enabled", "profile_label_improvements_pcf_label_in_post_enabled", "rweb_tipjar_consumption_enabled", "verified_phone_label_enabled", "responsive_web_grok_image_annotation_enabled", "responsive_web_graphql_skip_user_profile_image_extensions_enabled", "responsive_web_graphql_timeline_navigation_enabled", "responsive_web_enhance_cards_enabled"], fieldToggles: ["withArticleRichContentState", "withArticlePlainText", "withGrokAnalyze", "withDisallowedReplyControls", "withAuxiliaryUserLabels"] } };
        },
        204114: (e) => {
            e.exports = { queryId: "-5e798p4EVbuhGGFFuw3Tg", operationName: "GrokUnpinConversation", operationType: "mutation", metadata: { featureSwitches: [], fieldToggles: [] } };
        },
        790427: (e) => {
            e.exports = { queryId: "AB0damyVo0wBhhebQIwtsg", operationName: "GrokUserEventsLog", operationType: "mutation", metadata: { featureSwitches: [], fieldToggles: [] } };
        },
        220843: (e) => {
            e.exports = { queryId: "NqLS09LPofalCjVhFolKtA", operationName: "SetGrokPreferences", operationType: "mutation", metadata: { featureSwitches: [], fieldToggles: [] } };
        },
        6157: (e, t, o) => {
            "use strict";
            o.d(t, { Z: () => z });
            var n = o(468811),
                i = o.n(n),
                s = o(163889),
                a = o(954694),
                r = o.n(a),
                l = o(538374),
                d = o.n(l),
                h = o(423923),
                _ = o.n(h),
                c = o(685850),
                p = o.n(c),
                u = o(369111),
                m = o.n(u),
                g = o(551632),
                f = o.n(g),
                b = o(880471),
                y = o.n(b),
                w = o(61505),
                v = o.n(w),
                C = o(255804),
                Z = o.n(C),
                k = o(628207),
                x = o.n(k),
                S = o(204114),
                T = o.n(S),
                I = o(790427),
                D = o.n(I),
                P = o(220843),
                E = o.n(P);
            function z({ apiClient: e }) {
                return {
                    clearConversations: (t, o) => e.graphQL(r(), {}).then((e) => (e.clear_grok_conversations?.grok_deletion_error?.error_code && (0, s.ZP)("GraphQL clear grok conversations failed."), e)),
                    setPreferences: ({ grokMode: t, grokModelOptionId: o }) => e.graphQL(E(), { grokMode: t, grokModelOptionId: o }).then((e) => (e.set_grok_preferences?.preference_update_error?.error_code && (0, s.ZP)("GraphQL set grok preferences failed."), e)),
                    fetchConversation: ({ restId: t }) => e.graphQL(_(), { restId: t }).then((e) => e),
                    fetchGrokShareGraphQL: ({ grok_share_id: t }) => e.graphQL(x(), { grok_share_id: t }).then((e) => e),
                    fetchGrokHome: () => e.graphQL(m(), {}).then((e) => e),
                    fetchHistory: ({ cursor: t }) => e.graphQL(p(), { cursor: t }).then((e) => e),
                    fetchPinnedConversations: ({ cursor: t }) => e.graphQL(v(), { cursor: t }).then((e) => e),
                    fetchMediaHistory: ({ cursor: t }) => e.graphQL(f(), { cursor: t }).then((e) => e),
                    searchConversations: ({ keyword: t }) => e.graphQL(Z(), { keyword: t }).then((e) => (e.grok_conversation_search_timeline?.items ?? []).map((e) => ({ chatItemId: e.chat_item_id, conversation: { id: e.grokConversation?.rest_id }, message: e.chat_item?.message, createdAt: e.chat_item?.created_at_ms, title: e.conversation_title })).filter((e) => e.chatItemId && e.conversation.id)),
                    deleteMessage: ({ chat_item_id: t, conversation_id: o }) => e.graphQL(d(), { conversation_id: o, chat_item_id: t }).then((e) => e),
                    logUserEventGrok: ({ action_type: t, group_id: o, object_id: n }) => e.graphQL(D(), { group_id: o, object_id: n, action_type: t }).then((e) => e),
                    grokPinConversation: ({ conversationId: t }) => e.graphQL(y(), { conversationId: t }).then((e) => e),
                    grokUnpinConversation: ({ conversationId: t }) => e.graphQL(T(), { conversationId: t }).then((e) => e),
                    uploadFile: ({ abortController: t, file: o }) => {
                        const n = new FormData();
                        return n.append("image", o), e.postForm("grok/attachment", n, {}, { "x-xai-request-id": i().v4() }, void 0, t.signal).then((e) => e.map((e) => ({ ...e, url: e.url ?? (void 0 !== e.mediaId ? `https://api.x.com/2/grok/attachment.json?mediaId=${e.mediaId}` : void 0) })));
                    },
                };
            }
        },
        290402: (e, t, o) => {
            "use strict";
            o.d(t, { Z: () => u });
            var n = o(807896),
                i = o(202784),
                s = o(182056),
                a = o(879113),
                r = o(392237),
                l = o(674132),
                d = o.n(l),
                h = o(968478);
            const _ = d().aa6e3300,
                c = ({ retryMessage: e, ...t }, o) => {
                    const r = s.Z.isOnline();
                    return i.createElement(a.Z, (0, n.Z)({}, t, { icon: r ? void 0 : i.createElement(h.default, { style: p.icon }), retryMessage: r ? e : _ }));
                },
                p = r.default.create((e) => ({ icon: { color: e.colors.gray700, fontSize: e.spaces.space32 } })),
                u = i.forwardRef(c);
        },
        300234: (e, t, o) => {
            "use strict";
            o.d(t, { Z: () => O });
            var n = o(202784),
                i = o(325686),
                s = o(284702),
                a = o(174326),
                r = o(521812),
                l = o(392237),
                d = o(908478),
                h = o(516951),
                _ = o(123751),
                c = o(443781);
            const p = (0, o(668214).Z)().withAnalytics({ component: "gallery" });
            var u = o(807896),
                m = o(386802),
                g = o(420740),
                f = o(674132),
                b = o.n(f),
                y = o(952793),
                w = o(965728);
            const v = { startX: 0, startY: 0 };
            class C extends n.Component {
                constructor(...e) {
                    super(...e),
                        (this._pullDistanceY = 0),
                        (this._pullInfo = { ...v }),
                        (this._handleTouchStart = (e) => {
                            (this._pullInfo.startX = e.touches[0].clientX), (this._pullInfo.startY = e.touches[0].clientY);
                        }),
                        (this._handleTouchMove = (e) => {
                            if ("number" != typeof this._pullInfo.startX || "number" != typeof this._pullInfo.startY) return;
                            const t = e.touches[0],
                                o = t.clientX - this._pullInfo.startX,
                                n = t.clientY - this._pullInfo.startY;
                            Math.abs(o) > 10 || (e.preventDefault(), this._updatePullPosition(n));
                        }),
                        (this._handleTouchEnd = (e) => {
                            Math.abs(this._pullDistanceY) > 50 ? this._handleDismiss() : this._resetPullInfo();
                        }),
                        (this._updatePullPosition = (e) => {
                            this._pullDistanceY = e;
                        }),
                        (this._handleDismiss = () => {
                            const { onDismiss: e } = this.props;
                            e && e(), this._resetPullInfo();
                        }),
                        (this._resetPullInfo = () => {
                            this._updatePullPosition(0), (this._pullInfo = { ...v });
                        });
                }
                render() {
                    const { children: e, onDismiss: t, onLayout: o, style: s } = this.props,
                        a = !!t;
                    return n.createElement(i.Z, { onLayout: o, onTouchEnd: a ? this._handleTouchEnd : void 0, onTouchMove: a ? this._handleTouchMove : void 0, onTouchStart: a ? this._handleTouchStart : void 0, style: s, testID: "swipe-to-dismiss" }, e);
                }
            }
            const Z = C;
            var k = o(992942),
                x = o(7022),
                S = o(309854),
                T = o(351686),
                I = o(822399);
            const D = b().b327c12a,
                P = b().gff1f69e;
            class E extends n.PureComponent {
                constructor(...e) {
                    super(...e), (this.state = { loadingVariant: null, imageLoading: !1 }), (this._handleLoadStart = () => this.setState({ imageLoading: !0 })), (this._handleLoadEnd = () => this.setState({ imageLoading: !1 }));
                }
                componentDidMount() {
                    this._mountPromiseForTesting = E._selectCachedVariant(this.props.photo).then((e) => this.setState({ loadingVariant: e }));
                }
                componentDidUpdate(e, t) {
                    (0, d.Z)(e.photo, this.props.photo) || (this.setState({ loadingVariant: null }), E._selectCachedVariant(this.props.photo).then((e) => this.setState({ loadingVariant: e })));
                }
                render() {
                    const { dataSaver: e, imageStyle: t, onError: o, onLoad: s, onTap: a, onZoomed: r, photo: l, resetZoom: d, style: h, zoomable: _ } = this.props,
                        { loadingVariant: c } = this.state,
                        p = (e && c && Math.max(c.width, c.height) >= 680 ? c.uri : null) || E._selectSource(l);
                    if (!p || null === c) return null;
                    const u = n.createElement(k.Z, { "aria-label": l.ext_alt_text ? l.ext_alt_text : D, defaultSource: c && c.uri, draggable: !0, onError: c ? void 0 : o, onLoad: s, onLoadEnd: this._handleLoadEnd, onLoadStart: this._handleLoadStart, resizeMode: "contain", source: p, style: [z.img, t] });
                    return n.createElement(i.Z, { style: h }, this.state.imageLoading ? L : null, _ ? n.createElement(x.Z, { onTap: a, onZoomed: r, resetZoom: d }, u) : u);
                }
                static _selectCachedVariant(e) {
                    const t = S.Z.getOriginalImage(e);
                    return t ? T.Z.selectLargestCachedVariant(t) : Promise.resolve();
                }
                static _selectSource(e) {
                    const t = S.Z.getOriginalImage(e);
                    return t && T.Z.selectLargestUrl(t);
                }
            }
            E.defaultProps = { zoomable: !1 };
            const z = l.default.create((e) => ({ img: { ...l.default.absoluteFillObject, height: "auto", margin: "auto", maxHeight: "100%", maxWidth: "100%", width: "auto" }, progressBar: { position: "absolute", top: 0, zIndex: 1 } })),
                L = n.createElement(I.Z, { ariaValueText: P, indeterminate: !0, style: z.progressBar }),
                M = E;
            var B = o(310453);
            class q extends n.PureComponent {
                constructor(...e) {
                    super(...e),
                        (this._handlePlaybackStarted = () => {
                            this._player && !this.props.isCurrentlyDisplayed && this._player.pause();
                        }),
                        (this._setPlayer = (e) => {
                            (this._player = e), this._player && this.props.isCurrentlyDisplayed && this._player.play();
                        });
                }
                render() {
                    const { style: e } = this.props;
                    return n.createElement(i.Z, { style: e }, n.createElement(i.Z, { style: G.root }, this._renderVideo()));
                }
                componentDidUpdate(e) {
                    const { isCurrentlyDisplayed: t } = this.props;
                    this._player && t !== e.isCurrentlyDisplayed && (t ? this._player.play() : this._player.pause());
                }
                _renderVideo() {
                    const { isVerticalVideoNoBlackBars: e, promotedContent: t, video: o, videoId: i } = this.props;
                    return n.createElement(B.Z, (0, u.Z)({}, s.Z.extractVideoProps(i, o, void 0, void 0, !1, e), { onPlaybackStarted: this._handlePlaybackStarted, playbackCoordination: null, promotedContent: t, setPlayer: this._setPlayer, withPostPlayback: !0 }));
                }
            }
            const G = l.default.create({ root: { flexBasis: 0, flexGrow: 1, flexShrink: 1, justifyContent: "center" } }),
                A = q,
                V = b().ac85c6b2,
                N = (e) => {
                    const { businessAvatar: t = !1, isAvatar: o, isCurrentlyDisplayed: a, mediaDetail: r, onDismiss: l, onTap: d, promotedContent: h, videoId: _, ...c } = e,
                        [p, f] = n.useState(null),
                        [b, v] = n.useState({ width: 0, height: 0 }),
                        { isModal: C } = n.useContext(m.Z),
                        { height: k, width: x } = r.original_info || {},
                        { height: S, width: T } = b,
                        I = (0, y.hC)("rweb_video_vertical_aspect_ratio_enabled"),
                        D = I || C || o ? (0, w.I5)({ mediaWidth: x, mediaHeight: k, containerWidth: T, containerHeight: S }, o) : Y.mediaItem;
                    return n.createElement(
                        Z,
                        {
                            onDismiss: l,
                            onLayout:
                                I || C || o
                                    ? (e) => {
                                          const {
                                              nativeEvent: {
                                                  layout: { height: t, width: o },
                                              },
                                          } = e;
                                          (o === b.width && t === b.height) || v({ width: o, height: t });
                                      }
                                    : void 0,
                            style: Y.root,
                        },
                        p
                            ? n.createElement(g.Z, {
                                  onRetry: () => {
                                      f(null);
                                  },
                                  style: Y.errorDetail,
                                  title: V,
                                  withLightOnDarkColorScheme: !0,
                              })
                            : null,
                        p
                            ? null
                            : n.createElement(
                                  i.Z,
                                  {
                                      onClick: (e) => {
                                          e.stopPropagation();
                                      },
                                      style: D,
                                  },
                                  "photo" === r.type
                                      ? n.createElement(
                                            M,
                                            (0, u.Z)({}, c, {
                                                imageStyle: o && !t && Y.avatarImage,
                                                onError: (e) => {
                                                    f(e.nativeEvent.error);
                                                },
                                                onLoad: () => {
                                                    f(null);
                                                },
                                                onTap: d,
                                                photo: r,
                                                style: Y.container,
                                                zoomable: !0,
                                            }),
                                        )
                                      : s.Z.isVideo(r) && _
                                        ? n.createElement(A, { isCurrentlyDisplayed: a, isVerticalVideoNoBlackBars: I, promotedContent: h, style: Y.container, video: r, videoId: _ })
                                        : null,
                              ),
                    );
                },
                Y = l.default.create((e) => ({ root: { flexGrow: 1, justifyContent: "center", alignItems: "center", flexShrink: 1 }, mediaItem: { flexGrow: 1, width: "100%", height: "100%" }, container: { height: "100%", position: "absolute", width: "100%" }, errorDetail: { alignItems: "center", alignSelf: "center", justifyContent: "center", position: "absolute", height: "100%", maxWidth: 400 }, avatarImage: { borderRadius: e.borderRadii.infinite, margin: e.spaces.space16 } })),
                R = n.memo(N, (e, t) => (0, d.Z)(e, t));
            class W extends n.Component {
                constructor(e, t) {
                    super(e, t),
                        (this._getV2Key = () => {
                            const { mediaItems: e } = this.props;
                            if (e.length) {
                                const [t] = e,
                                    o = t.expanded_url;
                                if ("string" == typeof o) {
                                    const e = o.split("/");
                                    if (e.length >= 4) return e[3];
                                }
                            }
                        }),
                        (this._handleChangeV2 = ({ index: e, intersectionRatio: t }) => {
                            const { onMediaItemChanged: o } = this.props;
                            1 === t && o && o(e);
                        }),
                        (this._getItemVideoId = (e) => {
                            const { videoId: t } = this.props;
                            if (t) return t;
                            if ("string" == typeof e.expanded_url) {
                                const t = e.expanded_url.split("/");
                                return _.Z.forTweet(t[3]);
                            }
                        }),
                        (this._handleMediaDetailZoomed = (e) => {
                            const { onMediaDetailZoomed: t } = this.props;
                            this.state.isZoomed !== e && this.setState({ isZoomed: e }), t && t(e);
                        }),
                        (this.state = { isZoomed: !1 });
                }
                shouldComponentUpdate(e, t) {
                    return !(0, d.Z)(e, this.props) || !(0, d.Z)(t, this.state);
                }
                componentDidMount() {
                    this._scribeImpression();
                }
                componentDidUpdate() {
                    this._scribeImpression();
                }
                _scribeImpression() {
                    this.context.featureSwitches.isTrue("responsive_web_scribe_media_component") && this.props.analytics.scribe({ element: "photo", action: "show" });
                }
                render() {
                    const { businessAvatar: e, dataSaver: t, mediaIndex: o, mediaItems: a, onDismiss: r, onTap: l, promotedContent: d } = this.props,
                        { isZoomed: h } = this.state,
                        _ = a.map((i, _) => {
                            const c = s.Z.isVideo(i),
                                p = this._getItemVideoId(i),
                                u = o === _;
                            return c && !p ? null : n.createElement(R, { businessAvatar: e, dataSaver: t, isAvatar: this.props.isAvatar, isCurrentlyDisplayed: u, key: _, mediaDetail: a[_], onDismiss: h ? void 0 : r, onTap: l, onZoomed: u ? this._handleMediaDetailZoomed : void 0, promotedContent: d, resetZoom: o !== _, videoId: p });
                        });
                    return n.createElement(i.Z, { style: X.root }, a.length > 1 ? this._renderCarousel(_) : _);
                }
                _renderCarousel(e) {
                    const { dominantColor: t, mediaIndex: o, mediaItems: i, onMediaItemChanged: l } = this.props,
                        { isZoomed: d } = this.state,
                        h = s.Z.isVideo(i[o]);
                    return this.context.featureSwitches.isTrue("responsive_web_carousel_v2_media_detail_enabled") ? n.createElement(a.Z, { childrenStyle: [X.dimensions, X.scrollSnap], dominantButtonColor: t, isLocked: d, key: this._getV2Key(), onVisibleRangeChange: this._handleChangeV2, scrollToCenter: !0, style: X.dimensions, swipeablePaddingLeft: 0, swipeablePaddingRight: 0, visibleItemIndex: o, withAddedNavButtonClickArea: !h, withGlobalKeyboardNavigation: !0, withWraparound: !1 }, e) : n.createElement(r.ZP, { currentSlide: o, dominantColor: t, locked: d, onChange: l, shouldAlwaysEnableKeyboardNavigation: !0 }, e);
                }
            }
            (W.contextType = c.rC), (W.defaultProps = { mediaIndex: 0, onMediaDetailZoomed: h.Z, onMediaItemChanged: h.Z });
            const X = l.default.create((e) => ({ root: { flex: 1, zIndex: 1 }, dimensions: { height: "100%", width: "100%" }, scrollSnap: { scrollSnapAlign: "center", scrollSnapStop: "always" } })),
                O = p(W);
        },
        827094: (e, t, o) => {
            "use strict";
            o.d(t, { Z: () => b });
            var n = o(202784),
                i = o(325686),
                s = o(108362),
                a = o(530732),
                r = o(154003),
                l = o(386802),
                d = o(392237),
                h = o(674132),
                _ = o.n(h),
                c = o(837020),
                p = o(254944),
                u = o(965728),
                m = o(979512);
            const g = _().ia5e7488,
                f = _().ic76bdf0;
            class b extends n.Component {
                constructor(...e) {
                    super(...e),
                        (this._openGrok = async () => {}),
                        (this._handleCloseButtonPress = (e) => {
                            e.stopPropagation();
                            const { onCloseButtonPress: t } = this.props;
                            t();
                        }),
                        (this._handleBackgroundPress = () => {
                            const { onCloseButtonPress: e } = this.props,
                                { isModal: t } = this.context;
                            t && e();
                        });
                }
                render() {
                    const { backgroundColor: e, children: t, footerButtons: o, forceDominantButtonColor: l, forceModalStyle: d, hideButtons: h, mediaItem: _, mediaUrl: m, overlayFooter: b, topRightButton: v } = this.props,
                        { isModal: C } = this.context,
                        Z = { backgroundColor: e.rgba, ...u.nk },
                        k = { backgroundColor: e.rgb, ...u.nk },
                        x = [y.root, C ? Z : k, { position: C || d ? "relative" : "fixed" }],
                        S = _,
                        T = S?.media_results?.result?.grok_image_annotation;
                    return n.createElement(
                        n.Fragment,
                        null,
                        n.createElement(i.Z, { onClick: this._handleBackgroundPress, style: x }, t, o ? n.createElement(i.Z, { pointerEvents: h ? "none" : void 0, style: [y.footerButtons, b && Z, b && y.footerButtonsAbsolute, h && y.fadeOut] }, n.createElement(s.Z, { withGutter: !0 }, o)) : null),
                        n.createElement(a.Z, { interactiveStyles: null, onClick: this._handleCloseButtonPress, pointerEvents: h ? "none" : void 0, role: "none", style: [y.buttonWrapper, y.buttonWrapperLeft, u.nk, h && y.fadeOut] }, (t) => n.createElement(r.ZP, { "aria-label": g, dominantColor: e.rgb, hoverLabel: { label: g }, icon: n.createElement(c.default, null), interactivityState: t, onClick: this._handleCloseButtonPress, type: _ || m || l ? "onMediaDominantColorFilled" : "onMediaWhiteFilled" })),
                        v ? n.createElement(i.Z, { pointerEvents: h ? "none" : void 0, style: [y.buttonWrapper, y.buttonWrapperRight, u.nk, h && y.fadeOut] }, v) : null,
                        T
                            ? n.createElement(
                                  i.Z,
                                  { style: [y.buttonWrapperBottomCenter, u.nk, h && y.fadeOut] },
                                  n.createElement(
                                      r.ZP,
                                      {
                                          icon: n.createElement(p.default, null),
                                          onClick: () => {
                                              this._openGrok({ text: T.prompt, autoSubmit: !0, source: "post_image_annotation" });
                                          },
                                          size: "small",
                                          type: "brandFilled",
                                      },
                                      f,
                                  ),
                                  n.createElement(w, {
                                      onOpenGrokUpdate: (e) => {
                                          this._openGrok = e;
                                      },
                                  }),
                              )
                            : null,
                    );
                }
            }
            (b.contextType = l.Z), (b.defaultProps = { hideButtons: !1 });
            const y = d.default.create((e) => ({ root: { overflowX: "hidden", overflowY: "hidden", height: "100%", width: "100%" }, buttonWrapper: { position: "absolute", top: 0, padding: e.spaces.space12, alignItems: "center", justifyContent: "center", cursor: "pointer" }, buttonWrapperLeft: { start: 0 }, buttonWrapperRight: { end: 0 }, buttonWrapperBottomCenter: { width: "100%", position: "absolute", bottom: 60, alignItems: "center", justifyContent: "center", cursor: "pointer" }, fadeOut: { opacity: 0 }, footerButtons: { width: "100%", alignSelf: "center" }, footerButtonsAbsolute: { position: "absolute", bottom: 0, paddingBottom: d.default.iPhoneOffsetBottom, zIndex: 1 } })),
                w = ({ onOpenGrokUpdate: e }) => {
                    const { openGrok: t } = (0, m.Z)();
                    return (
                        n.useEffect(() => {
                            e(t);
                        }, [t]),
                        null
                    );
                };
        },
        879113: (e, t, o) => {
            "use strict";
            o.d(t, { Z: () => p });
            var n = o(202784),
                i = o(476984),
                s = o.n(i),
                a = o(143778),
                r = o(750410),
                l = o(682830);
            const d = "failed",
                h = "loaded",
                _ = "loading",
                c = "none";
            class p extends n.Component {
                shouldComponentUpdate(e) {
                    const t = e.fetchStatus === h,
                        o = this.props.fetchStatus !== e.fetchStatus;
                    return !(!t && !o) || !s()(e, this.props);
                }
                render() {
                    const { "aria-label": e, color: t, failureMessage: o, fetchStatus: i, icon: s, loadingMessage: a, onRequestRetry: h, render: p, renderFailure: u, retryMessage: m, retryable: g } = this.props;
                    switch (i) {
                        case d:
                            return g ? n.createElement(r.Z, { icon: s, onRequestRetry: h, retryMessage: m }) : o ? n.createElement(l.m, { failureMessage: o }) : u();
                        case _:
                            return n.createElement(l.J, { "aria-label": e, color: t, loadingMessage: a });
                        case c:
                            return null;
                        default:
                            return p();
                    }
                }
            }
            p.defaultProps = { renderFailure: a.Z, retryable: !0 };
        },
        7022: (e, t, o) => {
            "use strict";
            o.d(t, { Z: () => b });
            var n = o(202784),
                i = o(196001),
                s = o(325686),
                a = o(837880),
                r = o(516951),
                l = o(933895),
                d = o(392237);
            const h = o(393058).Z.isTouchSupported(),
                _ = { zoom: 1, lastX: 0, lastY: 0, zoomCenter: { x: 0, y: 0 } },
                c = { height: 0, width: 0, left: 0, right: 0, top: 0, bottom: 0 },
                p = (e, t, o) => Math.min(t, Math.max(e, o)),
                u = (e, t) => Math.sqrt(Math.pow(e.clientY - t.clientY, 2) + Math.pow(e.clientX - t.clientX, 2)),
                m = (e, t) => ({ x: (e.clientX + t.clientX) / 2, y: (e.clientY + t.clientY) / 2 });
            class g extends n.Component {
                constructor(e) {
                    super(e),
                        (this._itemDimensions = c),
                        (this._ref = n.createRef()),
                        (this._setTouchableNode = (e) => {
                            this._touchableNode !== e && ((this._touchableNode = e), this._removeTouchListener && this._removeTouchListener(), this._touchableNode && (this._removeTouchListener = (0, l.O)(this._touchableNode, this._handleTouchMove, !1)));
                        }),
                        (this._isTouching = !1),
                        (this._handleTouchStart = (e) => {
                            this._ref.current && (this._zoomedDimensions = this._ref.current.getBoundingClientRect()), (this._moved = !1);
                            const t = e.touches.length;
                            (this._isTouching = !0), 2 === t ? (e.preventDefault(), this._handlePinchStart(e)) : 1 === t && this._handleTapStart(e);
                        }),
                        (this._handleTouchMove = (e) => {
                            const t = e.touches.length;
                            2 === t ? (e.preventDefault(), this._handlePinchMove(e)) : 1 === t && ((this._moved = !0), this._handlePanMove(e));
                        }),
                        (this._handleTouchEnd = (e) => {
                            const { maxZoom: t, minZoom: o, onTap: n } = this.props,
                                i = p(o, t, this.state.zoom),
                                { zoom: s } = this.state;
                            s !== i && 1 === i ? this.resetZoom() : this.setState({ lastX: 0, lastY: 0, zoom: i }), 0 === e.touches.length ? ((this._isTouching = !1), this._lastTouchTime && this._lastTouchTime + 300 > e.timeStamp ? (this._clickTimer && clearTimeout(this._clickTimer), this._handleDoubleTap(e)) : s <= 1 && !this._moved && (this._clickTimer = setTimeout(n, 300)), (this._lastTouchTime = e.timeStamp)) : e.preventDefault();
                        }),
                        (this.state = { ..._ });
                }
                static getDerivedStateFromProps(e, t) {
                    return h && e.resetZoom ? (e.onZoomed(!1), { ..._ }) : t;
                }
                render() {
                    if (!h) return this.props.children;
                    const { zoom: e, zoomCenter: t } = this.state,
                        o = this._moved,
                        a = { zoom: this._isTouching ? e : (0, i.ST)(e), zoomCenterX: this._isTouching ? t.x : (0, i.ST)(t.x), zoomCenterY: this._isTouching ? t.y : (0, i.ST)(t.y) };
                    return n.createElement(
                        s.Z,
                        { onTouchEnd: this._handleTouchEnd, onTouchStart: this._handleTouchStart, ref: this._setTouchableNode, style: f.fill },
                        n.createElement(i.y_, { style: a }, ({ zoom: e, zoomCenterX: i, zoomCenterY: a }) => n.createElement(s.Z, { ref: this._ref, style: [f.fill, { transform: [{ scale: e }], transformOrigin: `${o ? i : t.x}px ${o ? a : t.y}px` }] }, this.props.children)),
                    );
                }
                componentDidMount() {
                    h && this._updateWindowDimensions();
                }
                componentWillUnmount() {
                    this._removeTouchListener && this._removeTouchListener();
                }
                resetZoom() {
                    this.props.onZoomed(!1), this.setState({ zoom: _.zoom });
                }
                _handlePanMove(e) {
                    if (this.state.zoom <= 1 || !this._zoomedDimensions || !this._windowDimensions) return;
                    const { clientX: t, clientY: o } = e.touches[0];
                    if (!this.state.lastX || !this.state.lastY) return void this.setState({ lastX: t, lastY: o });
                    const {
                            lastX: n,
                            lastY: i,
                            zoomCenter: { x: s, y: r },
                        } = this.state,
                        { height: l, width: d } = this._windowDimensions,
                        { height: h, width: _ } = this._zoomedDimensions;
                    let c = 0,
                        p = 0;
                    _ - d > 0 && (c = t - n), h - l > 0 && (p = o - i), this.setState({ lastX: t, lastY: o, zoomCenter: { x: (0, a.Z)(s - c, 0, d), y: (0, a.Z)(r - p, 0, l) } });
                }
                _handlePinchStart(e) {
                    const { touches: t } = e;
                    if ((this._updateWindowDimensions(), (this._lastDistance = u(t[0], t[1])), 1 === this.state.zoom)) {
                        const e = m(t[0], t[1]);
                        this.setState({ zoomCenter: this._getZoomCenter(e.x, e.y) }), this.props.onZoomed(!0);
                    }
                }
                _handlePinchMove(e) {
                    const { touches: t } = e,
                        { lastX: o, lastY: n, zoom: i, zoomCenter: s } = this.state,
                        { maxZoom: r, maxZoomBounce: l, minZoom: d, minZoomBounce: h } = this.props;
                    if (0 === s.x && 0 === s.y) return void (2 === e.touches.length && this._handlePinchStart(e));
                    const _ = u(t[0], t[1]),
                        c = this._lastDistance ? _ / this._lastDistance : 1,
                        g = p(d - h, r + l, i * c),
                        f = m(t[0], t[1]),
                        b = (() => {
                            if (!this._windowDimensions || !o) return s;
                            const { height: e, width: t } = this._windowDimensions;
                            return { x: (0, a.Z)(s.x - (f.x - o), 0, t), y: (0, a.Z)(s.y - (f.y - n), 0, e) };
                        })();
                    (this._lastDistance = _), this.setState({ lastX: f.x, lastY: f.y, zoom: g, zoomCenter: b });
                }
                _handleTapStart(e) {
                    const { touches: t } = e;
                    this._tapCenter = this._getZoomCenter(t[0].clientX, t[0].clientY);
                }
                _handleDoubleTap(e) {
                    const { maxZoom: t, onZoomed: o } = this.props;
                    1 !== this.state.zoom ? this.resetZoom() : (this._updateWindowDimensions(), this.setState({ zoom: t, zoomCenter: this._tapCenter || _.zoomCenter }), o(!0));
                }
                _getZoomCenter(e, t) {
                    this._ref.current && (this._itemDimensions = this._ref.current.getBoundingClientRect());
                    const { left: o, top: n } = this._itemDimensions;
                    return { x: e - o, y: t - n };
                }
                _updateWindowDimensions() {
                    this._windowDimensions = { height: window.innerHeight, width: window.innerWidth };
                }
            }
            g.defaultProps = { maxZoom: 2.5, maxZoomBounce: 0.15, minZoom: 1, minZoomBounce: 0.15, onTap: r.Z, onZoomed: r.Z, resetZoom: !1 };
            const f = d.default.create((e) => ({ fill: { flex: 1 } })),
                b = g;
        },
        730895: (e, t, o) => {
            "use strict";
            var n = o(821176);
            e.exports = function () {
                var e = n(this),
                    t = "";
                return e.hasIndices && (t += "d"), e.global && (t += "g"), e.ignoreCase && (t += "i"), e.multiline && (t += "m"), e.dotAll && (t += "s"), e.unicode && (t += "u"), e.unicodeSets && (t += "v"), e.sticky && (t += "y"), t;
            };
        },
        890103: (e, t, o) => {
            "use strict";
            var n = o(609859),
                i = o(807400),
                s = o(396616),
                a = o(730895),
                r = o(824229),
                l = n.RegExp,
                d = l.prototype;
            i &&
                r(function () {
                    var e = !0;
                    try {
                        l(".", "d");
                    } catch (t) {
                        e = !1;
                    }
                    var t = {},
                        o = "",
                        n = e ? "dgimsy" : "gimsy",
                        i = function (e, n) {
                            Object.defineProperty(t, e, {
                                get: function () {
                                    return (o += n), !0;
                                },
                            });
                        },
                        s = { dotAll: "s", global: "g", ignoreCase: "i", multiline: "m", sticky: "y" };
                    for (var a in (e && (s.hasIndices = "d"), s)) i(a, s[a]);
                    return Object.getOwnPropertyDescriptor(d, "flags").get.call(t) !== n || o !== n;
                }) &&
                s(d, "flags", { configurable: !0, get: a });
        },
    },
]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/bundle.UserAvatar-6107ac1a.ca4b962a.js.map
