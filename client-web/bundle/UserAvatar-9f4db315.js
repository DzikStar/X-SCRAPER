(self.webpackChunk_twitter_responsive_web = self.webpackChunk_twitter_responsive_web || []).push([
    ["bundle.UserAvatar-9f4db315"],
    {
        155074: (e) => {
            e.exports = { queryId: "83Gg0lfI-47Z3-ZOxyUjiQ", operationName: "ClearGrokConversations", operationType: "mutation", metadata: { featureSwitches: [], fieldToggles: [] } };
        },
        834949: (e) => {
            e.exports = { queryId: "vvC5uy7pWWHXS2aDi1FZeA", operationName: "CreateGrokConversation", operationType: "mutation", metadata: { featureSwitches: [], fieldToggles: [] } };
        },
        491156: (e) => {
            e.exports = { queryId: "kaH0vdJmbuocpRAeWpRC7A", operationName: "DeleteGrokMessage", operationType: "mutation", metadata: { featureSwitches: [], fieldToggles: [] } };
        },
        645513: (e) => {
            e.exports = { queryId: "_v1krzee5g5usd5t70TEFA", operationName: "GrokConversationItemsByRestId", operationType: "query", metadata: { featureSwitches: ["creator_subscriptions_tweet_preview_api_enabled", "premium_content_api_read_enabled", "communities_web_enable_tweet_community_results_fetch", "c9s_tweet_anatomy_moderator_badge_enabled", "responsive_web_grok_analyze_button_fetch_trends_enabled", "responsive_web_grok_analyze_post_followups_enabled", "responsive_web_jetfuel_frame", "responsive_web_grok_share_attachment_enabled", "articles_preview_enabled", "responsive_web_edit_tweet_api_enabled", "graphql_is_translatable_rweb_tweet_is_translatable_enabled", "view_counts_everywhere_api_enabled", "longform_notetweets_consumption_enabled", "responsive_web_twitter_article_tweet_consumption_enabled", "tweet_awards_web_tipping_enabled", "responsive_web_grok_show_grok_translated_post", "responsive_web_grok_analysis_button_from_backend", "creator_subscriptions_quote_tweet_preview_enabled", "freedom_of_speech_not_reach_fetch_enabled", "standardized_nudges_misinfo", "tweet_with_visibility_results_prefer_gql_limited_actions_policy_enabled", "longform_notetweets_rich_text_read_enabled", "longform_notetweets_inline_media_enabled", "payments_enabled", "profile_label_improvements_pcf_label_in_post_enabled", "rweb_tipjar_consumption_enabled", "verified_phone_label_enabled", "responsive_web_grok_image_annotation_enabled", "responsive_web_graphql_skip_user_profile_image_extensions_enabled", "responsive_web_graphql_timeline_navigation_enabled", "responsive_web_enhance_cards_enabled"], fieldToggles: ["withArticleRichContentState", "withArticlePlainText", "withGrokAnalyze", "withDisallowedReplyControls", "withAuxiliaryUserLabels"] } };
        },
        470969: (e) => {
            e.exports = { queryId: "9Hyh5D4-WXLnExZkONSkZg", operationName: "GrokHistory", operationType: "query", metadata: { featureSwitches: [], fieldToggles: [] } };
        },
        374709: (e) => {
            e.exports = { queryId: "-AfHqb3yk7aKm0kf6HGb5A", operationName: "GrokHome", operationType: "query", metadata: { featureSwitches: [], fieldToggles: [] } };
        },
        709401: (e) => {
            e.exports = { queryId: "azn3Sg0APPjb2Jtd7gqxsw", operationName: "GrokMediaHistory", operationType: "query", metadata: { featureSwitches: [], fieldToggles: [] } };
        },
        965508: (e) => {
            e.exports = { queryId: "_6czUDKiWzcvBUKMoDZ19w", operationName: "GrokPinConversation", operationType: "mutation", metadata: { featureSwitches: [], fieldToggles: [] } };
        },
        416024: (e) => {
            e.exports = { queryId: "BHKxYTkc5SCupV7oqJBr0g", operationName: "GrokPinnedConversations", operationType: "query", metadata: { featureSwitches: [], fieldToggles: [] } };
        },
        716442: (e) => {
            e.exports = { queryId: "Sr2QEitvnemma5D2NJlA2Q", operationName: "SearchGrokConversations", operationType: "query", metadata: { featureSwitches: [], fieldToggles: [] } };
        },
        985289: (e) => {
            e.exports = { queryId: "xuFDPunCIN3nYooaVUkzaA", operationName: "GrokShare", operationType: "query", metadata: { featureSwitches: ["creator_subscriptions_tweet_preview_api_enabled", "premium_content_api_read_enabled", "communities_web_enable_tweet_community_results_fetch", "c9s_tweet_anatomy_moderator_badge_enabled", "responsive_web_grok_analyze_button_fetch_trends_enabled", "responsive_web_grok_analyze_post_followups_enabled", "responsive_web_jetfuel_frame", "responsive_web_grok_share_attachment_enabled", "articles_preview_enabled", "responsive_web_edit_tweet_api_enabled", "graphql_is_translatable_rweb_tweet_is_translatable_enabled", "view_counts_everywhere_api_enabled", "longform_notetweets_consumption_enabled", "responsive_web_twitter_article_tweet_consumption_enabled", "tweet_awards_web_tipping_enabled", "responsive_web_grok_show_grok_translated_post", "responsive_web_grok_analysis_button_from_backend", "creator_subscriptions_quote_tweet_preview_enabled", "freedom_of_speech_not_reach_fetch_enabled", "standardized_nudges_misinfo", "tweet_with_visibility_results_prefer_gql_limited_actions_policy_enabled", "longform_notetweets_rich_text_read_enabled", "longform_notetweets_inline_media_enabled", "payments_enabled", "profile_label_improvements_pcf_label_in_post_enabled", "rweb_tipjar_consumption_enabled", "verified_phone_label_enabled", "responsive_web_grok_image_annotation_enabled", "responsive_web_graphql_skip_user_profile_image_extensions_enabled", "responsive_web_graphql_timeline_navigation_enabled", "responsive_web_enhance_cards_enabled"], fieldToggles: ["withArticleRichContentState", "withArticlePlainText", "withGrokAnalyze", "withDisallowedReplyControls", "withAuxiliaryUserLabels"] } };
        },
        524816: (e) => {
            e.exports = { queryId: "-5e798p4EVbuhGGFFuw3Tg", operationName: "GrokUnpinConversation", operationType: "mutation", metadata: { featureSwitches: [], fieldToggles: [] } };
        },
        917665: (e) => {
            e.exports = { queryId: "AB0damyVo0wBhhebQIwtsg", operationName: "GrokUserEventsLog", operationType: "mutation", metadata: { featureSwitches: [], fieldToggles: [] } };
        },
        587068: (e) => {
            e.exports = { queryId: "NqLS09LPofalCjVhFolKtA", operationName: "SetGrokPreferences", operationType: "mutation", metadata: { featureSwitches: [], fieldToggles: [] } };
        },
        6157: (e, t, o) => {
            "use strict";
            o.d(t, { Z: () => D });
            var n = o(468811),
                a = o.n(n),
                r = o(163889),
                i = o(155074),
                s = o.n(i),
                l = o(491156),
                d = o.n(l),
                p = o(645513),
                _ = o.n(p),
                c = o(470969),
                h = o.n(c),
                u = o(374709),
                m = o.n(u),
                g = o(709401),
                b = o.n(g),
                f = o(965508),
                y = o.n(f),
                w = o(416024),
                v = o.n(w),
                k = o(716442),
                C = o.n(k),
                I = o(985289),
                S = o.n(I),
                x = o(524816),
                Z = o.n(x),
                T = o(917665),
                E = o.n(T),
                L = o(587068),
                P = o.n(L);
            function D({ apiClient: e }) {
                return {
                    clearConversations: (t, o) => e.graphQL(s(), {}).then((e) => (e.clear_grok_conversations?.grok_deletion_error?.error_code && (0, r.ZP)("GraphQL clear grok conversations failed."), e)),
                    setPreferences: ({ grokMode: t, grokModelOptionId: o }) => e.graphQL(P(), { grokMode: t, grokModelOptionId: o }).then((e) => (e.set_grok_preferences?.preference_update_error?.error_code && (0, r.ZP)("GraphQL set grok preferences failed."), e)),
                    fetchConversation: ({ restId: t }) => e.graphQL(_(), { restId: t }).then((e) => e),
                    fetchGrokShareGraphQL: ({ grok_share_id: t }) => e.graphQL(S(), { grok_share_id: t }).then((e) => e),
                    fetchGrokHome: () => e.graphQL(m(), {}).then((e) => e),
                    fetchHistory: ({ cursor: t }) => e.graphQL(h(), { cursor: t }).then((e) => e),
                    fetchPinnedConversations: ({ cursor: t }) => e.graphQL(v(), { cursor: t }).then((e) => e),
                    fetchMediaHistory: ({ cursor: t }) => e.graphQL(b(), { cursor: t }).then((e) => e),
                    searchConversations: ({ keyword: t }) => e.graphQL(C(), { keyword: t }).then((e) => (e.grok_conversation_search_timeline?.items ?? []).map((e) => ({ chatItemId: e.chat_item_id, conversation: { id: e.grokConversation?.rest_id }, message: e.chat_item?.message, createdAt: e.chat_item?.created_at_ms, title: e.conversation_title })).filter((e) => e.chatItemId && e.conversation.id)),
                    deleteMessage: ({ chat_item_id: t, conversation_id: o }) => e.graphQL(d(), { conversation_id: o, chat_item_id: t }).then((e) => e),
                    logUserEventGrok: ({ action_type: t, group_id: o, object_id: n }) => e.graphQL(E(), { group_id: o, object_id: n, action_type: t }).then((e) => e),
                    grokPinConversation: ({ conversationId: t }) => e.graphQL(y(), { conversationId: t }).then((e) => e),
                    grokUnpinConversation: ({ conversationId: t }) => e.graphQL(Z(), { conversationId: t }).then((e) => e),
                    uploadFile: ({ abortController: t, file: o }) => {
                        const n = new FormData();
                        return n.append("image", o), e.postForm("grok/attachment", n, {}, { "x-xai-request-id": a().v4() }, void 0, t.signal).then((e) => e.map((e) => ({ ...e, url: e.url ?? (void 0 !== e.mediaId ? `https://api.x.com/2/grok/attachment.json?mediaId=${e.mediaId}` : void 0) })));
                    },
                };
            }
        },
        290402: (e, t, o) => {
            "use strict";
            o.d(t, { Z: () => u });
            var n = o(807896),
                a = o(202784),
                r = o(182056),
                i = o(879113),
                s = o(392237),
                l = o(111677),
                d = o.n(l),
                p = o(968478);
            const _ = d().aa6e3300,
                c = ({ retryMessage: e, ...t }, o) => {
                    const s = r.Z.isOnline();
                    return a.createElement(i.Z, (0, n.Z)({}, t, { icon: s ? void 0 : a.createElement(p.default, { style: h.icon }), retryMessage: s ? e : _ }));
                },
                h = s.default.create((e) => ({ icon: { color: e.colors.gray700, fontSize: e.spaces.space32 } })),
                u = a.forwardRef(c);
        },
        123702: (e, t, o) => {
            "use strict";
            o.d(t, { K: () => n });
            const n = function (e, t = {}) {
                const o = { listUnicodeChar: t.listUnicodeChar ?? void 0, stripListLeaders: t.stripListLeaders ?? !0, gfm: t.gfm ?? !0, useImgAltText: t.useImgAltText ?? !0, abbr: t.abbr ?? !1, replaceLinksWithURL: t.replaceLinksWithURL ?? !1, htmlTagsToSkip: t.htmlTagsToSkip ?? [], throwError: t.throwError ?? !1 };
                let n = e || "";
                (n = n.replace(/<grok:render[^>]*>[\s\S]*?<\/grok:render>/gi, "")), (n = n.replace(/^(-\s*?|\*\s*?|_\s*?){3,}\s*/gm, ""));
                try {
                    o.stripListLeaders && (n = o.listUnicodeChar ? n.replace(/^([\s\t]*)([\*\-\+]|\d+\.)\s+/gm, `${o.listUnicodeChar} $1`) : n.replace(/^([\s\t]*)([\*\-\+]|\d+\.)\s+/gm, "$1")),
                        o.gfm &&
                            (n = n
                                .replace(/\n={2,}/g, "\n")
                                .replace(/~{3}.*\n/g, "")
                                .replace(/~~/g, "")
                                .replace(/`{3}.*\n/g, "")),
                        o.abbr && (n = n.replace(/\*\[.*\]:.*\n/, "")),
                        (n = n.replace(/<[^>]*>/g, ""));
                    let e = new RegExp("<[^>]*>", "g");
                    if (o.htmlTagsToSkip.length > 0) {
                        const t = `(?!${o.htmlTagsToSkip.join("|")})`;
                        e = new RegExp(`<${t}[^>]*>`, "ig");
                    }
                    n = n
                        .replace(e, "")
                        .replace(/^[=\-]{2,}\s*$/g, "")
                        .replace(/\[\^.+?\](\: .*?$)?/g, "")
                        .replace(/\s{0,2}\[.*?\]: .*?$/g, "")
                        .replace(/\!\[(.*?)\][\[\(].*?[\]\)]/g, o.useImgAltText ? "$1" : "")
                        .replace(/\[([^\]]*?)\][\[\(].*?[\]\)]/g, o.replaceLinksWithURL ? "$2" : "$1")
                        .replace(/^(\n)?\s{0,3}>\s?/gm, "$1")
                        .replace(/^\s{1,2}\[(.*?)\]: (\S+)( ".*?")?\s*$/g, "")
                        .replace(/^(\n)?\s{0,}#{1,6}\s*( (.+))? +#+$|^(\n)?\s{0,}#{1,6}\s*( (.+))?$/gm, "$1$3$4$6")
                        .replace(/(\*+)(.*?)\1/g, "$2")
                        .replace(/(^|\W)([_]+)(\S)(.*?\S)??\2($|\W)/g, "$1$3$4$5")
                        .replace(/(`{3,})(.*?)\1/gm, "$2")
                        .replace(/`(.+?)`/g, "$1")
                        .replace(/~(.*?)~/g, "$1");
                } catch (t) {
                    if (o.throwError) throw t;
                    return e;
                }
                return n;
            };
        },
        300234: (e, t, o) => {
            "use strict";
            o.d(t, { Z: () => N });
            var n = o(202784),
                a = o(325686),
                r = o(284702),
                i = o(174326),
                s = o(521812),
                l = o(392237),
                d = o(908478),
                p = o(516951),
                _ = o(123751),
                c = o(443781);
            const h = (0, o(668214).Z)().withAnalytics({ component: "gallery" });
            var u = o(807896),
                m = o(386802),
                g = o(420740),
                b = o(111677),
                f = o.n(b),
                y = o(965728);
            const w = { startX: 0, startY: 0 };
            class v extends n.Component {
                constructor(...e) {
                    super(...e),
                        (this._pullDistanceY = 0),
                        (this._pullInfo = { ...w }),
                        (this._handleTouchStart = (e) => {
                            (this._pullInfo.startX = e.touches[0].clientX), (this._pullInfo.startY = e.touches[0].clientY);
                        }),
                        (this._handleTouchMove = (e) => {
                            if ("number" != typeof this._pullInfo.startX || "number" != typeof this._pullInfo.startY) return;
                            const t = e.touches[0],
                                o = t.clientX - this._pullInfo.startX,
                                n = t.clientY - this._pullInfo.startY;
                            Math.abs(o) > 10 || (e.preventDefault(), this._updatePullPosition(n));
                        }),
                        (this._handleTouchEnd = (e) => {
                            Math.abs(this._pullDistanceY) > 50 ? this._handleDismiss() : this._resetPullInfo();
                        }),
                        (this._updatePullPosition = (e) => {
                            this._pullDistanceY = e;
                        }),
                        (this._handleDismiss = () => {
                            const { onDismiss: e } = this.props;
                            e && e(), this._resetPullInfo();
                        }),
                        (this._resetPullInfo = () => {
                            this._updatePullPosition(0), (this._pullInfo = { ...w });
                        });
                }
                render() {
                    const { children: e, onDismiss: t, onLayout: o, style: r } = this.props,
                        i = !!t;
                    return n.createElement(a.Z, { onLayout: o, onTouchEnd: i ? this._handleTouchEnd : void 0, onTouchMove: i ? this._handleTouchMove : void 0, onTouchStart: i ? this._handleTouchStart : void 0, style: r, testID: "swipe-to-dismiss" }, e);
                }
            }
            const k = v;
            var C = o(992942),
                I = o(7022),
                S = o(309854),
                x = o(351686),
                Z = o(822399);
            const T = f().b327c12a,
                E = f().gff1f69e;
            class L extends n.PureComponent {
                constructor(...e) {
                    super(...e), (this.state = { loadingVariant: null, imageLoading: !1 }), (this._handleLoadStart = () => this.setState({ imageLoading: !0 })), (this._handleLoadEnd = () => this.setState({ imageLoading: !1 }));
                }
                componentDidMount() {
                    this._mountPromiseForTesting = L._selectCachedVariant(this.props.photo).then((e) => this.setState({ loadingVariant: e }));
                }
                componentDidUpdate(e, t) {
                    (0, d.Z)(e.photo, this.props.photo) || (this.setState({ loadingVariant: null }), L._selectCachedVariant(this.props.photo).then((e) => this.setState({ loadingVariant: e })));
                }
                render() {
                    const { dataSaver: e, imageStyle: t, onError: o, onLoad: r, onTap: i, onZoomed: s, photo: l, resetZoom: d, style: p, zoomable: _ } = this.props,
                        { loadingVariant: c } = this.state,
                        h = (e && c && Math.max(c.width, c.height) >= 680 ? c.uri : null) || L._selectSource(l);
                    if (!h || null === c) return null;
                    const u = n.createElement(C.Z, { "aria-label": l.ext_alt_text ? l.ext_alt_text : T, defaultSource: c && c.uri, draggable: !0, onError: c ? void 0 : o, onLoad: r, onLoadEnd: this._handleLoadEnd, onLoadStart: this._handleLoadStart, resizeMode: "contain", source: h, style: [P.img, t] });
                    return n.createElement(a.Z, { style: p }, this.state.imageLoading ? D : null, _ ? n.createElement(I.Z, { onTap: i, onZoomed: s, resetZoom: d }, u) : u);
                }
                static _selectCachedVariant(e) {
                    const t = S.Z.getOriginalImage(e);
                    return t ? x.Z.selectLargestCachedVariant(t) : Promise.resolve();
                }
                static _selectSource(e) {
                    const t = S.Z.getOriginalImage(e);
                    return t && x.Z.selectLargestUrl(t);
                }
            }
            L.defaultProps = { zoomable: !1 };
            const P = l.default.create((e) => ({ img: { ...l.default.absoluteFillObject, height: "auto", margin: "auto", maxHeight: "100%", maxWidth: "100%", width: "auto" }, progressBar: { position: "absolute", top: 0, zIndex: 1 } })),
                D = n.createElement(Z.Z, { ariaValueText: E, indeterminate: !0, style: P.progressBar }),
                A = L;
            var G = o(310453);
            class q extends n.PureComponent {
                constructor(...e) {
                    super(...e),
                        (this._handlePlaybackStarted = () => {
                            this._player && !this.props.isCurrentlyDisplayed && this._player.pause();
                        }),
                        (this._setPlayer = (e) => {
                            (this._player = e), this._player && this.props.isCurrentlyDisplayed && this._player.play();
                        });
                }
                render() {
                    const { style: e } = this.props;
                    return n.createElement(a.Z, { style: e }, n.createElement(a.Z, { style: M.root }, this._renderVideo()));
                }
                componentDidUpdate(e) {
                    const { isCurrentlyDisplayed: t } = this.props;
                    this._player && t !== e.isCurrentlyDisplayed && (t ? this._player.play() : this._player.pause());
                }
                _renderVideo() {
                    const { promotedContent: e, video: t, videoId: o } = this.props,
                        [a, i] = t.video_info.aspect_ratio,
                        s = r.Z.extractVideoProps(o, t);
                    return (s.aspectRatio = a / i), n.createElement(G.Z, (0, u.Z)({}, s, { onPlaybackStarted: this._handlePlaybackStarted, playbackCoordination: null, promotedContent: e, setPlayer: this._setPlayer, withPostPlayback: !0 }));
                }
            }
            const M = l.default.create({ root: { flexBasis: 0, flexGrow: 1, flexShrink: 1, justifyContent: "center" } }),
                B = q,
                $ = f().ac85c6b2,
                V = (e) => {
                    const { businessAvatar: t = !1, isAvatar: o, isCurrentlyDisplayed: i, mediaDetail: s, onDismiss: l, onTap: d, promotedContent: p, videoId: _, ...c } = e,
                        [h, b] = n.useState(null),
                        [f, w] = n.useState({ width: 0, height: 0 }),
                        { isModal: v } = n.useContext(m.Z),
                        { height: C, width: I } = s.original_info || {},
                        { height: S, width: x } = f,
                        Z = v || o ? (0, y.I5)({ mediaWidth: I, mediaHeight: C, containerWidth: x, containerHeight: S }, o) : U.mediaItem;
                    return n.createElement(
                        k,
                        {
                            onDismiss: l,
                            onLayout:
                                v || o
                                    ? (e) => {
                                          const {
                                              nativeEvent: {
                                                  layout: { height: t, width: o },
                                              },
                                          } = e;
                                          (o === f.width && t === f.height) || w({ width: o, height: t });
                                      }
                                    : void 0,
                            style: U.root,
                        },
                        h
                            ? n.createElement(g.Z, {
                                  onRetry: () => {
                                      b(null);
                                  },
                                  style: U.errorDetail,
                                  title: $,
                                  withLightOnDarkColorScheme: !0,
                              })
                            : null,
                        h
                            ? null
                            : n.createElement(
                                  a.Z,
                                  {
                                      onClick: (e) => {
                                          e.stopPropagation();
                                      },
                                      style: Z,
                                  },
                                  "photo" === s.type
                                      ? n.createElement(
                                            A,
                                            (0, u.Z)({}, c, {
                                                imageStyle: o && !t && U.avatarImage,
                                                onError: (e) => {
                                                    b(e.nativeEvent.error);
                                                },
                                                onLoad: () => {
                                                    b(null);
                                                },
                                                onTap: d,
                                                photo: s,
                                                style: U.container,
                                                zoomable: !0,
                                            }),
                                        )
                                      : r.Z.isVideo(s) && _
                                        ? n.createElement(B, { isCurrentlyDisplayed: i, promotedContent: p, style: U.container, video: s, videoId: _ })
                                        : null,
                              ),
                    );
                },
                U = l.default.create((e) => ({ root: { flexGrow: 1, justifyContent: "center", alignItems: "center", flexShrink: 1 }, mediaItem: { flexGrow: 1, width: "100%", height: "100%" }, container: { height: "100%", position: "absolute", width: "100%" }, errorDetail: { alignItems: "center", alignSelf: "center", justifyContent: "center", position: "absolute", height: "100%", maxWidth: 400 }, avatarImage: { borderRadius: e.borderRadii.infinite, margin: e.spaces.space16 } })),
                W = n.memo(V, (e, t) => (0, d.Z)(e, t));
            class R extends n.Component {
                constructor(e, t) {
                    super(e, t),
                        (this._getV2Key = () => {
                            const { mediaItems: e } = this.props;
                            if (e.length) {
                                const [t] = e,
                                    o = t.expanded_url;
                                if ("string" == typeof o) {
                                    const e = o.split("/");
                                    if (e.length >= 4) return e[3];
                                }
                            }
                        }),
                        (this._handleChangeV2 = ({ index: e, intersectionRatio: t }) => {
                            const { onMediaItemChanged: o } = this.props;
                            1 === t && o && o(e);
                        }),
                        (this._getItemVideoId = (e) => {
                            const { videoId: t } = this.props;
                            if (t) return t;
                            if ("string" == typeof e.expanded_url) {
                                const t = e.expanded_url.split("/");
                                return _.Z.forTweet(t[3]);
                            }
                        }),
                        (this._handleMediaDetailZoomed = (e) => {
                            const { onMediaDetailZoomed: t } = this.props;
                            this.state.isZoomed !== e && this.setState({ isZoomed: e }), t && t(e);
                        }),
                        (this.state = { isZoomed: !1 });
                }
                shouldComponentUpdate(e, t) {
                    return !(0, d.Z)(e, this.props) || !(0, d.Z)(t, this.state);
                }
                componentDidMount() {
                    this._scribeImpression();
                }
                componentDidUpdate() {
                    this._scribeImpression();
                }
                _scribeImpression() {
                    this.context.featureSwitches.isTrue("responsive_web_scribe_media_component") && this.props.analytics.scribe({ element: "photo", action: "show" });
                }
                render() {
                    const { businessAvatar: e, dataSaver: t, mediaIndex: o, mediaItems: i, onDismiss: s, onTap: l, promotedContent: d } = this.props,
                        { isZoomed: p } = this.state,
                        _ = i.map((a, _) => {
                            const c = r.Z.isVideo(a),
                                h = this._getItemVideoId(a),
                                u = o === _;
                            return c && !h ? null : n.createElement(W, { businessAvatar: e, dataSaver: t, isAvatar: this.props.isAvatar, isCurrentlyDisplayed: u, key: _, mediaDetail: i[_], onDismiss: p ? void 0 : s, onTap: l, onZoomed: u ? this._handleMediaDetailZoomed : void 0, promotedContent: d, resetZoom: o !== _, videoId: h });
                        });
                    return n.createElement(a.Z, { style: z.root }, i.length > 1 ? this._renderCarousel(_) : _);
                }
                _renderCarousel(e) {
                    const { dominantColor: t, mediaIndex: o, mediaItems: a, onMediaItemChanged: l } = this.props,
                        { isZoomed: d } = this.state,
                        p = r.Z.isVideo(a[o]);
                    return this.context.featureSwitches.isTrue("responsive_web_carousel_v2_media_detail_enabled") ? n.createElement(i.Z, { childrenStyle: [z.dimensions, z.scrollSnap], dominantButtonColor: t, isLocked: d, key: this._getV2Key(), onVisibleRangeChange: this._handleChangeV2, scrollToCenter: !0, style: z.dimensions, swipeablePaddingLeft: 0, swipeablePaddingRight: 0, visibleItemIndex: o, withAddedNavButtonClickArea: !p, withGlobalKeyboardNavigation: !0, withWraparound: !1 }, e) : n.createElement(s.ZP, { currentSlide: o, dominantColor: t, locked: d, onChange: l, shouldAlwaysEnableKeyboardNavigation: !0 }, e);
                }
            }
            (R.contextType = c.rC), (R.defaultProps = { mediaIndex: 0, onMediaDetailZoomed: p.Z, onMediaItemChanged: p.Z });
            const z = l.default.create((e) => ({ root: { flex: 1, zIndex: 1 }, dimensions: { height: "100%", width: "100%" }, scrollSnap: { scrollSnapAlign: "center", scrollSnapStop: "always" } })),
                N = h(R);
        },
        827094: (e, t, o) => {
            "use strict";
            o.d(t, { Z: () => f });
            var n = o(202784),
                a = o(325686),
                r = o(108362),
                i = o(530732),
                s = o(154003),
                l = o(386802),
                d = o(392237),
                p = o(111677),
                _ = o.n(p),
                c = o(837020),
                h = o(254944),
                u = o(965728),
                m = o(979512);
            const g = _().ia5e7488,
                b = _().ic76bdf0;
            class f extends n.Component {
                constructor(...e) {
                    super(...e),
                        (this._openGrok = async () => {}),
                        (this._handleCloseButtonPress = (e) => {
                            e.stopPropagation();
                            const { onCloseButtonPress: t } = this.props;
                            t();
                        }),
                        (this._handleBackgroundPress = () => {
                            const { onCloseButtonPress: e } = this.props,
                                { isModal: t } = this.context;
                            t && e();
                        });
                }
                render() {
                    const { backgroundColor: e, children: t, footerButtons: o, forceDominantButtonColor: l, forceModalStyle: d, hideButtons: p, mediaItem: _, mediaUrl: m, overlayFooter: f, topRightButton: v } = this.props,
                        { isModal: k } = this.context,
                        C = { backgroundColor: e.rgba, ...u.nk },
                        I = { backgroundColor: e.rgb, ...u.nk },
                        S = [y.root, k ? C : I, { position: k || d ? "relative" : "fixed" }],
                        x = _,
                        Z = x?.media_results?.result?.grok_image_annotation;
                    return n.createElement(
                        n.Fragment,
                        null,
                        n.createElement(a.Z, { onClick: this._handleBackgroundPress, style: S }, t, o ? n.createElement(a.Z, { pointerEvents: p ? "none" : void 0, style: [y.footerButtons, f && C, f && y.footerButtonsAbsolute, p && y.fadeOut] }, n.createElement(r.Z, { withGutter: !0 }, o)) : null),
                        n.createElement(i.Z, { interactiveStyles: null, onClick: this._handleCloseButtonPress, pointerEvents: p ? "none" : void 0, role: "none", style: [y.buttonWrapper, y.buttonWrapperLeft, u.nk, p && y.fadeOut] }, (t) => n.createElement(s.ZP, { "aria-label": g, dominantColor: e.rgb, hoverLabel: { label: g }, icon: n.createElement(c.default, null), interactivityState: t, onClick: this._handleCloseButtonPress, type: _ || m || l ? "onMediaDominantColorFilled" : "onMediaWhiteFilled" })),
                        v ? n.createElement(a.Z, { pointerEvents: p ? "none" : void 0, style: [y.buttonWrapper, y.buttonWrapperRight, u.nk, p && y.fadeOut] }, v) : null,
                        Z
                            ? n.createElement(
                                  a.Z,
                                  { style: [y.buttonWrapperBottomCenter, u.nk, p && y.fadeOut] },
                                  n.createElement(
                                      s.ZP,
                                      {
                                          icon: n.createElement(h.default, null),
                                          onClick: () => {
                                              this._openGrok({ text: Z.prompt, autoSubmit: !0, source: "post_image_annotation" });
                                          },
                                          size: "small",
                                          type: "brandFilled",
                                      },
                                      b,
                                  ),
                                  n.createElement(w, {
                                      onOpenGrokUpdate: (e) => {
                                          this._openGrok = e;
                                      },
                                  }),
                              )
                            : null,
                    );
                }
            }
            (f.contextType = l.Z), (f.defaultProps = { hideButtons: !1 });
            const y = d.default.create((e) => ({ root: { overflowX: "hidden", overflowY: "hidden", height: "100%", width: "100%" }, buttonWrapper: { position: "absolute", top: 0, padding: e.spaces.space12, alignItems: "center", justifyContent: "center", cursor: "pointer" }, buttonWrapperLeft: { start: 0 }, buttonWrapperRight: { end: 0 }, buttonWrapperBottomCenter: { width: "100%", position: "absolute", bottom: 60, alignItems: "center", justifyContent: "center", cursor: "pointer" }, fadeOut: { opacity: 0 }, footerButtons: { width: "100%", alignSelf: "center" }, footerButtonsAbsolute: { position: "absolute", bottom: 0, paddingBottom: d.default.iPhoneOffsetBottom, zIndex: 1 } })),
                w = ({ onOpenGrokUpdate: e }) => {
                    const { openGrok: t } = (0, m.Z)();
                    return (
                        n.useEffect(() => {
                            e(t);
                        }, [e, t]),
                        null
                    );
                };
        },
    },
]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/bundle.UserAvatar-9f4db315.86441b6a.js.map
